syntax = "proto3";
package payment_integrations.mtn.v1;

import "google/protobuf/timestamp.proto";

//The  status is used to check the transaction status
enum MtnStatus{
  PROCESSING = 0;
  // The mnt code has been deposited into a mnt wallet
  MTN_CREDITED = 2;
  // The mtn code has been deposited into a customers wallet
  USER_CREDITED = 3;
  //If user initiated a cancellation request
  CANCELLED = 4;
  // Mostly for  transactions if we do not receive message from MNT within a specified window;
  EXPIRED = 5;
}

//MTN data-product used in Mongo, wallet-svc and Kafka
message MtnDeposit{
  // this is the same as the mtn code
  string id = 1;
  //The mtn code (transaction reference)
  string mtn_code = 2;
  //a unique ID generated by system when a request has been done
  string payment_request_id = 3;
  //Kyosk Customer ID
  string customer_id = 4;
  //The phone number used to make a payment
  string msisdn = 5;
  //The transaction amount
  int32 transaction_amount = 7;
  //The payment status i.e "SUCCESSFULL || FAILED || PENDING"
  MtnStatus status = 15;
  //Time when mtn worflow was initiated.
  google.protobuf.Timestamp initiation_time = 20;
  // Time when transaction was created on mtn side
  google.protobuf.Timestamp transaction_time = 21;
  // Time when transaction was created on mtn side
  google.protobuf.Timestamp verification_entry_time = 22;
  // Time when mtn message arrived on our system from mtn
  google.protobuf.Timestamp mtn_msg_arrival_time = 23;
//Time taken to complete transaction
  google.protobuf.Timestamp completion_time = 24;
}

