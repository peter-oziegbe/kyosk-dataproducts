syntax = "proto3";
package payment.flutterwave.v1;

import "google/protobuf/timestamp.proto";

enum Status{
    
    // Transaction failed or has not yet been received by Flutterwave
    // This is the default
    FAILED = 0;

    // Transaction is in our Flutterwave account
    SUCCESS = 1;
}

message FlutterwaveTransaction{
    // Flutterwaveâ€™s transaction ID
    string id = 1;
    // Our unique Payment Request ID from the payment broker
    string payment_request_id = 2;
    // Transction Origin ISO country Code e.g. KE 
    string country_code = 3;
    // Three letter currency denotation of the transaction
    string currency = 4;
    // Transaction Amount
    int32 amount = 5;
    // Timestamp without timezone when validation request was received from the payment broker
    google.protobuf.Timestamp transcaction_time = 6;
    // Transaction status on Flutterwave's system
    Status status = 7;
}

// Request payload to check status of a transaction for specific payment request
message FetchTransactionStatusRequest{
    FlutterwaveTransaction payment_request_id = 2;
}

// Response payload for status of a transaction
message TransactionStatusResponse{
    string id = 1;
    string payment_request_id = 2;
    string country_code = 3;
    string currency = 4;
    int32 amount = 5;
    google.protobuf.Timestamp transcaction_time = 6;
    Status status = 7;
}

// Service Logic
service TransactionStatusService {
    rpc FetchTransactionStatus(FetchTransactionStatusRequest) returns (TransactionStatusResponse) {}
  }


