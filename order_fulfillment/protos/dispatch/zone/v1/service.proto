syntax = "proto3";

package dispatch.zone.v1;

import "dispatch/zone/v1/zone.proto";
import "common/query/v1/query.proto";
import "common/audit/v1/audit.proto";

message ZoneRequest {
  string name = 1;
  int32 from_distance = 2;
  int32 to_distance = 3;
  repeated Zone.DeliveryDays available_delivery_days = 4;
}

message ZoneEntityResponse {
  Zone zone = 1;
}

message ZoneQueryResponse {
  repeated Zone zones = 1;
}

message ZoneUpdateCmd {
  Zone zone = 1;
  common.audit.v1.Audit audit = 2;
}

message ZoneEntityId {
  string id = 1;
}

message DeleteZoneResponse {
  int32 response_code = 1;
  string message = 2;
}

service ZoneService {
  rpc CreateZone (ZoneRequest) returns (ZoneEntityResponse);
  rpc QueryZone (common.query.v1.QueryRequest) returns (ZoneQueryResponse);
  rpc UpdateZone (ZoneUpdateCmd) returns (ZoneEntityResponse);
  rpc DeleteZone (ZoneEntityId) returns (DeleteZoneResponse);
}